parameters:
- name: Projects
  type: string
  default: ''
- name: NugetConfigPath
  type: string
  default: 'nuget.config'

pool:
  vmImage: 'ubuntu-24.04'

steps:
# Install .NET SDK
- task: UseDotNet@2
  displayName: 'Install .NET 8 SDK'
  inputs:
    packageType: 'sdk'
    version: '8.0.x'
    performMultiLevelLookup: true

# Restore using dotnet CLI (no Mono or NuGet.exe required)
- script: |
    dotnet restore ${{ parameters.Projects }} --configfile ${{ parameters.NugetConfigPath }}
  displayName: 'dotnet restore'
