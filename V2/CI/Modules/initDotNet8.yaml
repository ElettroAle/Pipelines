parameters:
- name: Projects
  type: string
  default: 'src/**/*.csproj'
- name: FeedName
  type: string
  default: '' # Metti il nome del feed Azure Artifacts se serve

steps:
- task: UseDotNet@2
  displayName: 'Install .NET 8 SDK'
  inputs:
    packageType: 'sdk'
    version: '8.0.x'

- task: NuGetAuthenticate@1
  displayName: 'Autenticazione NuGet'

- task: DotNetCoreCLI@2
  displayName: 'Restore .NET'
  inputs:
    command: 'restore'
    projects: ${{ parameters.Projects }}
    # Se usi Azure Artifacts, decommenta le due righe sotto e imposta FeedName
    feedsToUse: 'select'
    vstsFeed: ${{ parameters.FeedName }}
